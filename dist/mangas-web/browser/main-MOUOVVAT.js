import{a as ne}from"./chunk-V5FBXNII.js";import{a as te}from"./chunk-BKURUGA6.js";import{a as ee}from"./chunk-TUGNCIOV.js";import{$,B as _,C as f,E as j,F as n,G as t,H as r,I as E,J as M,M as T,Q as p,R as h,T as H,Y as c,Z as F,_ as U,ba as G,c as S,ha as q,i as R,ja as V,l as N,m as d,ma as W,na as z,oa as B,pa as Z,ra as J,sa as K,ta as Q,ua as X,v as O,va as Y,w as l,wa as v,x as P,xa as g}from"./chunk-U6WCF6FZ.js";var ie=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-login"]],standalone:!0,features:[c],decls:43,vars:0,consts:[[1,"d-flex","flex-column","h-m-100"],[1,"flex-fill"],[1,"main_section"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"breadcrumb_wrapper","mt-3"],[1,"breadcrumb_item"],["href","javascript:void(0)"],[1,"card","card-body","border-0","rounded-0","auth_login_wrapper"],[1,"col-md-5"],[1,"fs-5"],[1,"form_wrapper"],[1,"input-group","mb-3"],["id","txt-username",1,"input-group-text"],[1,"fas","fa-users"],["type","text","placeholder","Username","name","txt-username","aria-label","username","aria-describedby","txt-username",1,"form-control"],["id","txt-password",1,"input-group-text"],[1,"fas","fa-lock"],["type","password","placeholder","Password","name","txt-password","aria-label","password","aria-describedby","txt-password",1,"form-control"],[1,"captcher-wrapper","mb-3"],["id","txt-captcher",1,"captchar-text"],["type","text","placeholder","captcher","name","txt-captcher","aria-label","captcher","aria-describedby","txt-captcher",1,"form-control"],[1,"submit-wrapper"],[1,"btn","btn-secondary","btn-lg","w-100"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],["href","javascript:void(0)",1,"text-decoration-none"]],template:function(a,s){a&1&&(n(0,"div",0),r(1,"app-header"),n(2,"main",1)(3,"section",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"a",8),p(10,"Read Manga Online"),t()(),n(11,"div",7)(12,"a",8)(13,"span"),p(14,"Login"),t()()()()(),n(15,"div",5)(16,"div",9)(17,"div",4)(18,"div",10)(19,"h1",11),p(20,"Login your account"),t(),n(21,"form",12)(22,"div",13)(23,"span",14),r(24,"i",15),t(),r(25,"input",16),t(),n(26,"div",13)(27,"span",17),r(28,"i",18),t(),r(29,"input",19),t(),n(30,"div",20)(31,"span",21),p(32,"6076"),t(),r(33,"input",22),t(),n(34,"div",23)(35,"button",24),p(36," SIGN IN "),t()(),n(37,"div",25)(38,"a",26),p(39,"Create an account?"),t(),n(40,"a",26),p(41,"Forgot your password?"),t()()()()()()()()()()(),r(42,"app-footer"),t())},dependencies:[g,v]})}}return e})();var re=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-register"]],standalone:!0,features:[c],decls:46,vars:0,consts:[[1,"d-flex","flex-column","h-m-100"],[1,"flex-fill"],[1,"main_section"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"breadcrumb_wrapper","mt-3"],[1,"breadcrumb_item"],["href","javascript:void(0)"],[1,"card","card-body","border-0","rounded-0","auth_login_wrapper"],[1,"col-md-5"],[1,"fs-5"],[1,"form_wrapper"],[1,"input-group","mb-3"],["id","txt-username",1,"input-group-text"],[1,"fas","fa-users"],["type","text","placeholder","Username","name","txt-username","aria-label","username","aria-describedby","txt-username",1,"form-control"],["id","txt-password",1,"input-group-text"],[1,"fas","fa-lock"],["type","password","placeholder","Password","name","txt-password","aria-label","password","aria-describedby","txt-password",1,"form-control"],["id","txt-display-name",1,"input-group-text"],["type","text","placeholder","display name","name","txt-display-name","aria-label","display-name","aria-describedby","txt-display-name",1,"form-control"],["id","txt-recover-email",1,"input-group-text"],[1,"fas","fa-envelope"],["type","text","placeholder","email to recover password","name","txt-recover-email","aria-label","recover-email","aria-describedby","txt-recover-email",1,"form-control"],[1,"captcher-wrapper","mb-3"],["id","txt-captcher",1,"captchar-text"],["type","text","placeholder","captcher","name","txt-captcher","aria-label","captcher","aria-describedby","txt-captcher",1,"form-control"],[1,"submit-wrapper"],[1,"btn","btn-secondary","btn-lg","w-100"]],template:function(a,s){a&1&&(n(0,"div",0),r(1,"app-header"),n(2,"main",1)(3,"section",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"a",8),p(10,"Read Manga Online"),t()(),n(11,"div",7)(12,"a",8)(13,"span"),p(14,"Register"),t()()()()(),n(15,"div",5)(16,"div",9)(17,"div",4)(18,"div",10)(19,"h1",11),p(20,"Create your Manga Account"),t(),n(21,"form",12)(22,"div",13)(23,"span",14),r(24,"i",15),t(),r(25,"input",16),t(),n(26,"div",13)(27,"span",17),r(28,"i",18),t(),r(29,"input",19),t(),n(30,"div",13)(31,"span",20),r(32,"i",15),t(),r(33,"input",21),t(),n(34,"div",13)(35,"span",22),r(36,"i",23),t(),r(37,"input",24),t(),n(38,"div",25)(39,"span",26),p(40,"6076"),t(),r(41,"input",27),t(),n(42,"div",28)(43,"button",29),p(44," SIGN UP "),t()()()()()()()()()()(),r(45,"app-footer"),t())},dependencies:[g,v]})}}return e})();var ue=()=>["/list-view"],fe=()=>({category:"latest"}),he=e=>["/manga",e],ve=(e,x)=>["/chapter",e,x];function ge(e,x){if(e&1&&(E(0),n(1,"div",26)(2,"a",23),p(3),t(),n(4,"span",27),p(5),t()(),M()),e&2){let i=x.$implicit,a=T().$implicit,s=T();l(2),f("routerLink",$(4,ve,i.id,a.id)),l(),H("Chapter ",i.chapter," ",i.chapterTitle,""),l(2),h(s.formatTime(i.updatedAt))}}function xe(e,x){if(e&1&&(E(0),n(1,"div",14)(2,"div",15),r(3,"img",16),n(4,"span"),p(5),t(),n(6,"span",17)(7,"span",18),p(8),t(),n(9,"span",19),r(10,"i",20),t()()(),n(11,"div",21)(12,"h2",22)(13,"a",23),p(14),t()(),n(15,"span",24),p(16),t(),n(17,"div",25),_(18,ge,6,7,"ng-container",10),t()()(),M()),e&2){let i=x.$implicit;l(3),f("src",i.cover,O)("alt",i.title),l(),j("badge "+i.popularityTag+"_badge"),l(),h(i.popularityTag),l(3),h(i.rating),l(5),f("routerLink",U(10,he,i.id)),l(),h(i.title),l(2),h(i.author),l(2),f("ngForOf",i.chapters)}}var ae=(()=>{class e{constructor(i){this.mangaService=i,this.latestMangas=[]}ngOnInit(){this.loadLatestMangas()}loadLatestMangas(){this.mangaService.getLatestMangas().subscribe(i=>S(this,null,function*(){let a=new Date,s=yield Promise.all(i.data.map(m=>S(this,null,function*(){let b="https://via.placeholder.com/150",A=m.relationships.find(o=>o.type==="cover_art");if(A)try{let o=yield this.mangaService.getCoverImage(A.id).toPromise();o?.data?.attributes?.fileName&&(b=`https://uploads.mangadex.org/covers/${m.id}/${o.data.attributes.fileName}.256.jpg`)}catch(o){console.error("Error fetching cover:",o)}let D="Unknown",k=m.relationships.find(o=>o.type==="author"||o.type==="artist");if(k)try{D=(yield this.mangaService.getAuthor(k.id).toPromise())?.data?.attributes?.name||"Unknown"}catch(o){console.error("Error fetching author:",o)}let L=[];try{L=(yield this.mangaService.getChapters(m.id,3).toPromise())?.data?.map(u=>({chapter:u.attributes.chapter||"N/A",title:u.attributes.title||"",id:u.id,updatedAt:u.attributes.readableAt||"Unknown Date"}))||[]}catch(o){console.error("Error fetching chapters:",o)}let se=m.attributes.tags.map(o=>o.attributes.name.en),C=0,I="N/A";try{let o=yield this.mangaService.getStats(m.id).toPromise();C=o?.statistics?.[m.id]?.follows||0;let u=o?.statistics?.[m.id]?.rating?.average||0;I=u?(u/2).toFixed(1):"N/A"}catch(o){console.error("Error fetching stats:",o)}let y="";C>5e4?y="ss":C>1e4&&(y="hot"),(a.getTime()-new Date(m.attributes.createdAt).getTime())/(1e3*60*60*24)<30&&(y="new");let de=m.attributes.altTitles?.find(o=>o.en)?.en||(m.attributes.altTitles?.length?Object.values(m.attributes.altTitles[0])[0]:"No Title");return{id:m.id,title:m.attributes.title.en||de,cover:b,author:D,chapters:L,tags:se,rating:I,popularityTag:y}})));this.latestMangas=s}))}formatTime(i){let a=new Date(i),m=Math.floor((new Date-a)/1e3);if(m<60)return`${m} seconds ago`;if(m<3600)return`${Math.floor(m/60)} min ago`;if(m<86400)return`${Math.floor(m/3600)} hour ago`;if(m<604800)return`${Math.floor(m/86400)} day ago`;let b={year:"numeric",month:"short",day:"numeric"};return a.toLocaleDateString("en-US",b)}static{this.\u0275fac=function(a){return new(a||e)(P(ee))}}static{this.\u0275cmp=d({type:e,selectors:[["app-home"]],standalone:!0,features:[c],decls:20,vars:5,consts:[[1,"d-flex","flex-column","h-m-100"],[1,"flex-fill"],[1,"main_section"],[1,"container"],[1,"row"],[1,"col-md-8"],[1,"listing_panel_wrapper"],[1,"listing_panel_header"],[1,"header_title"],["id","itemsWrapper",1,"listing_panel_body"],[4,"ngFor","ngForOf"],[1,"listing_panel_footer"],["id","loadMore",1,"footer_link",3,"routerLink","queryParams"],[1,"col-md-4"],[1,"listing_panel_item"],[1,"item_img"],["referrerpolicy","no-referrer",1,"img-fluid",3,"src","alt"],[1,"rating"],[1,"content"],[1,"icon"],[1,"fas","fa-star"],[1,"item_content"],[1,"item_title"],[3,"routerLink"],[1,"item_author"],[1,"item_chapter_wrapper"],[1,"item_chapter"],[1,"item_updated_time"]],template:function(a,s){a&1&&(n(0,"div",0),r(1,"app-header"),n(2,"main",1),r(3,"app-top-week"),n(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h3",8),p(11,"READ MANGA ONLINE - LATEST UPDATES"),t()(),n(12,"div",9),_(13,xe,19,12,"ng-container",10),t(),n(14,"div",11)(15,"a",12),p(16," << MORE>> "),t()()()(),n(17,"div",13),r(18,"app-sidebar"),t()()()()(),r(19,"app-footer"),t()),a&2&&(l(13),f("ngForOf",s.latestMangas),l(2),f("routerLink",F(3,ue))("queryParams",F(4,fe)))},dependencies:[g,v,V,q,te,Y,Q,ne]})}}return e})();var oe=(()=>{class e{constructor(i){this.router=i}canActivate(){let i=!!localStorage.getItem("token");return i||this.router.navigate(["/login"]),i}static{this.\u0275fac=function(a){return new(a||e)(N(K))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var me=[{path:"",component:ae},{path:"login",component:ie},{path:"register",component:re},{path:"bookmark",loadComponent:()=>import("./chunk-ARKWXY7G.js").then(e=>e.BookmarkComponent),canActivate:[oe]},{path:"chapter/:id/:mangaid",loadComponent:()=>import("./chunk-PIL7KU54.js").then(e=>e.ChapterComponent)},{path:"manga/:id",loadComponent:()=>import("./chunk-4YK4AZIP.js").then(e=>e.DetailViewComponent)},{path:"latest-manga",loadComponent:()=>import("./chunk-MPKUHP4Q.js").then(e=>e.LatestMangaComponent)},{path:"list-view",loadComponent:()=>import("./chunk-HBSVZNTR.js").then(e=>e.ListViewComponent)},{path:"new-manga",loadComponent:()=>import("./chunk-UIKFYJFJ.js").then(e=>e.NewMangaComponent)},{path:"top-manga",loadComponent:()=>import("./chunk-Y3K6LSNH.js").then(e=>e.TopMangaComponent)},{path:"**",redirectTo:""}];var pe={providers:[G({eventCoalescing:!0}),X(me),Z(),W(z())]};var le=(()=>{class e{constructor(){this.title="mangas-web"}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-root"]],standalone:!0,features:[c],decls:1,vars:0,template:function(a,s){a&1&&r(0,"router-outlet")},dependencies:[J]})}}return e})();B(le,pe).catch(e=>console.error(e));
